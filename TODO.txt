https://donjon.bin.sh/code/dungeon/

前提:
  壁は偶数列、行にのみ設置
  通路は奇数列、行を起点として繋げていく
1. 初期化
  全セルを壁などの状態に初期化する
2. 部屋の作成
  部屋の最大数を決める。 ★
    マップの面積/部屋の最大サイズを目安として決定する。
  部屋を最大数個作成する。 
    前提に従いランダムに部屋の位置とサイズを決めて部屋を作成する。
    他の部屋と重複している、またはマップからはみ出している場合はリトライ
    部屋の中を部屋内部、境界をマーク
3. 部屋の出口を作成
  部屋の出口の数を決定
    部屋の面積の平方根をoとした場合、o～o*2の乱数
  出口候補からランダムに決定し出口とする。
  その際、部屋の境界から1歩先までを出口とする。
    ###+####
       . 
4. 通路の作成
  部屋以外の領域を通路で埋める 
  右上から部屋以外の領域を走査
    その位置がすでに通路ならスキップ
    先が通路以外の全方向に順次通路を伸ばす
    伸ばしたら通路の曲がる確率に従ってまっすぐ進むか決め、
    同様に先が通路以外の方向に伸ばしていく
    全方向通路なら前の起点に戻って処理を継続する。
5. 階段の作成
  ランダムに突き当たりを選らんで階段を配置
6．突き当たりの削除
  指定確率に従って突き当たりを削除する
